<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0) on Fri May 09 07:22:34 CEST 2014 -->
<title>GracefulShutdownListener (gpars 1.2.1)</title>
<meta name="date" content="2014-05-09">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="GracefulShutdownListener (gpars 1.2.1)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GracefulShutdownListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownMonitor.html" title="class in groovyx.gpars.dataflow.operator.component"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html" target="_top">Frames</a></li>
<li><a href="GracefulShutdownListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">groovyx.gpars.dataflow.operator.component</div>
<h2 title="Class GracefulShutdownListener" class="title">Class GracefulShutdownListener</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html" title="class in groovyx.gpars.dataflow.operator">groovyx.gpars.dataflow.operator.DataflowEventAdapter</a></li>
<li>
<ul class="inheritance">
<li>groovyx.gpars.dataflow.operator.component.GracefulShutdownListener</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventListener.html" title="interface in groovyx.gpars.dataflow.operator">DataflowEventListener</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">GracefulShutdownListener</span>
extends <a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html" title="class in groovyx.gpars.dataflow.operator">DataflowEventAdapter</a></pre>
<div class="block">Listens to an operator/selector and reports its state and activity to a GracefulShutdownMonitor, shared with other listeners.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Vaclav Pech</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.concurrent.atomic.AtomicInteger</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#activeForks">activeForks</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#collectingMessages">collectingMessages</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.concurrent.atomic.AtomicLong</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#messagesInChannels">messagesInChannels</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../groovyx/gpars/dataflow/operator/component/OperatorStateMonitor.html" title="interface in groovyx.gpars.dataflow.operator.component">OperatorStateMonitor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#monitor">monitor</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#processor">processor</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#shutdownFlag">shutdownFlag</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#GracefulShutdownListener(groovyx.gpars.dataflow.operator.component.OperatorStateMonitor)">GracefulShutdownListener</a></strong>(<a href="../../../../../groovyx/gpars/dataflow/operator/component/OperatorStateMonitor.html" title="interface in groovyx.gpars.dataflow.operator.component">OperatorStateMonitor</a>&nbsp;monitor)</code>
<div class="block">Hooks hooks the shared monitor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#afterRun(groovyx.gpars.dataflow.operator.DataflowProcessor, java.util.List)">afterRun</a></strong>(<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a>&nbsp;processor,
        java.util.List&lt;java.lang.Object&gt;&nbsp;messages)</code>
<div class="block">Enters an idle state, so a notification needs to be sent to the monitor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Object&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#beforeRun(groovyx.gpars.dataflow.operator.DataflowProcessor, java.util.List)">beforeRun</a></strong>(<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a>&nbsp;processor,
         java.util.List&lt;java.lang.Object&gt;&nbsp;messages)</code>
<div class="block">Entering a different non-idle state, so a notification needs to be sent to the monitor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#controlMessageArrived(groovyx.gpars.dataflow.operator.DataflowProcessor, groovyx.gpars.dataflow.DataflowReadChannel, int, java.lang.Object)">controlMessageArrived</a></strong>(<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a>&nbsp;processor,
                     <a href="../../../../../groovyx/gpars/dataflow/DataflowReadChannel.html" title="interface in groovyx.gpars.dataflow">DataflowReadChannel</a>&lt;java.lang.Object&gt;&nbsp;channel,
                     int&nbsp;index,
                     java.lang.Object&nbsp;message)</code>
<div class="block">Entering a non-idle state, so a notification needs to be sent to the monitor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#fireEvent()">fireEvent</a></strong>()</code>
<div class="block">If shutdown is in progress, we'll notify the monitor</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#initiateShutdown()">initiateShutdown</a></strong>()</code>
<div class="block">Starts the shutdown phase by turning shutdownFlag on</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#isIdle()">isIdle</a></strong>()</code>
<div class="block">A quick check on, whether the operator/selector is in the Idle state</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#isIdleAndNoIncomingMessages()">isIdleAndNoIncomingMessages</a></strong>()</code>
<div class="block">A more sophisticated test for being Idle</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#messageArrived(groovyx.gpars.dataflow.operator.DataflowProcessor, groovyx.gpars.dataflow.DataflowReadChannel, int, java.lang.Object)">messageArrived</a></strong>(<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a>&nbsp;processor,
              <a href="../../../../../groovyx/gpars/dataflow/DataflowReadChannel.html" title="interface in groovyx.gpars.dataflow">DataflowReadChannel</a>&lt;java.lang.Object&gt;&nbsp;channel,
              int&nbsp;index,
              java.lang.Object&nbsp;message)</code>
<div class="block">Entering a non-idle state, so a notification needs to be sent to the monitor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#registered(groovyx.gpars.dataflow.operator.DataflowProcessor)">registered</a></strong>(<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a>&nbsp;processor)</code>
<div class="block">When hooked into an operator/selectors, the listener will tap to its input channels to get notified about all incoming messages.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html#terminateProcessor()">terminateProcessor</a></strong>()</code>
<div class="block">Used by the monitor to terminate the underlying operator/selector</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_groovyx.gpars.dataflow.operator.DataflowEventAdapter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;groovyx.gpars.dataflow.operator.<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html" title="class in groovyx.gpars.dataflow.operator">DataflowEventAdapter</a></h3>
<code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html#afterStart(groovyx.gpars.dataflow.operator.DataflowProcessor)">afterStart</a>, <a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html#afterStop(groovyx.gpars.dataflow.operator.DataflowProcessor)">afterStop</a>, <a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html#customEvent(groovyx.gpars.dataflow.operator.DataflowProcessor, java.lang.Object)">customEvent</a>, <a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html#messageSentOut(groovyx.gpars.dataflow.operator.DataflowProcessor, groovyx.gpars.dataflow.DataflowWriteChannel, int, java.lang.Object)">messageSentOut</a>, <a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html#onException(groovyx.gpars.dataflow.operator.DataflowProcessor, java.lang.Throwable)">onException</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="collectingMessages">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectingMessages</h4>
<pre>private&nbsp;boolean collectingMessages</pre>
</li>
</ul>
<a name="activeForks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activeForks</h4>
<pre>private final&nbsp;java.util.concurrent.atomic.AtomicInteger activeForks</pre>
</li>
</ul>
<a name="monitor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>monitor</h4>
<pre>private final&nbsp;<a href="../../../../../groovyx/gpars/dataflow/operator/component/OperatorStateMonitor.html" title="interface in groovyx.gpars.dataflow.operator.component">OperatorStateMonitor</a> monitor</pre>
</li>
</ul>
<a name="processor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processor</h4>
<pre>private&nbsp;<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a> processor</pre>
</li>
</ul>
<a name="shutdownFlag">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownFlag</h4>
<pre>private volatile&nbsp;boolean shutdownFlag</pre>
</li>
</ul>
<a name="messagesInChannels">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>messagesInChannels</h4>
<pre>private final&nbsp;java.util.concurrent.atomic.AtomicLong messagesInChannels</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="GracefulShutdownListener(groovyx.gpars.dataflow.operator.component.OperatorStateMonitor)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GracefulShutdownListener</h4>
<pre>public&nbsp;GracefulShutdownListener(<a href="../../../../../groovyx/gpars/dataflow/operator/component/OperatorStateMonitor.html" title="interface in groovyx.gpars.dataflow.operator.component">OperatorStateMonitor</a>&nbsp;monitor)</pre>
<div class="block">Hooks hooks the shared monitor</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>monitor</code> - The monitor that will orchestrate the shutdown</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="registered(groovyx.gpars.dataflow.operator.DataflowProcessor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registered</h4>
<pre>public&nbsp;void&nbsp;registered(<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a>&nbsp;processor)</pre>
<div class="block">When hooked into an operator/selectors, the listener will tap to its input channels to get notified about all incoming messages.
 These incoming messages will be stored temporarily so as the listener can keep track of it until the message is passed to the operator/selector.
 The messageArrived() event handler will then remove the message from the temporary storage.
 However, it is not guaranteed that the channel reports an incoming message before the corresponding messageArrived() handler gets invoked.
 These cases are fine with respect to shutdown, however, we still need to take care of such situation in order to remove the message from teh temporary cache.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventListener.html#registered(groovyx.gpars.dataflow.operator.DataflowProcessor)">registered</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventListener.html" title="interface in groovyx.gpars.dataflow.operator">DataflowEventListener</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html#registered(groovyx.gpars.dataflow.operator.DataflowProcessor)">registered</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html" title="class in groovyx.gpars.dataflow.operator">DataflowEventAdapter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>processor</code> - The reporting dataflow operator/selector</dd></dl>
</li>
</ul>
<a name="messageArrived(groovyx.gpars.dataflow.operator.DataflowProcessor, groovyx.gpars.dataflow.DataflowReadChannel, int, java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>messageArrived</h4>
<pre>public&nbsp;java.lang.Object&nbsp;messageArrived(<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a>&nbsp;processor,
                              <a href="../../../../../groovyx/gpars/dataflow/DataflowReadChannel.html" title="interface in groovyx.gpars.dataflow">DataflowReadChannel</a>&lt;java.lang.Object&gt;&nbsp;channel,
                              int&nbsp;index,
                              java.lang.Object&nbsp;message)</pre>
<div class="block">Entering a non-idle state, so a notification needs to be sent to the monitor.
 Also, the received message must be removed from the temporary message cache (or added to it so that so that the not-yet-arrived notification from the channel can remove it).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventListener.html#messageArrived(groovyx.gpars.dataflow.operator.DataflowProcessor, groovyx.gpars.dataflow.DataflowReadChannel, int, java.lang.Object)">messageArrived</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventListener.html" title="interface in groovyx.gpars.dataflow.operator">DataflowEventListener</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html#messageArrived(groovyx.gpars.dataflow.operator.DataflowProcessor, groovyx.gpars.dataflow.DataflowReadChannel, int, java.lang.Object)">messageArrived</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html" title="class in groovyx.gpars.dataflow.operator">DataflowEventAdapter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>processor</code> - The reporting dataflow operator/selector</dd><dd><code>channel</code> - The input channel holding the message</dd><dd><code>index</code> - The index of the input channel within the operator</dd><dd><code>message</code> - The incoming message</dd>
<dt><span class="strong">Returns:</span></dt><dd>The same object that was passed in as the last argument</dd></dl>
</li>
</ul>
<a name="controlMessageArrived(groovyx.gpars.dataflow.operator.DataflowProcessor, groovyx.gpars.dataflow.DataflowReadChannel, int, java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>controlMessageArrived</h4>
<pre>public&nbsp;java.lang.Object&nbsp;controlMessageArrived(<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a>&nbsp;processor,
                                     <a href="../../../../../groovyx/gpars/dataflow/DataflowReadChannel.html" title="interface in groovyx.gpars.dataflow">DataflowReadChannel</a>&lt;java.lang.Object&gt;&nbsp;channel,
                                     int&nbsp;index,
                                     java.lang.Object&nbsp;message)</pre>
<div class="block">Entering a non-idle state, so a notification needs to be sent to the monitor.
 Also, the received message must be removed from the temporary message cache (or added to it so that so that the not-yet-arrived notification from the channel can remove it).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventListener.html#controlMessageArrived(groovyx.gpars.dataflow.operator.DataflowProcessor, groovyx.gpars.dataflow.DataflowReadChannel, int, java.lang.Object)">controlMessageArrived</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventListener.html" title="interface in groovyx.gpars.dataflow.operator">DataflowEventListener</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html#controlMessageArrived(groovyx.gpars.dataflow.operator.DataflowProcessor, groovyx.gpars.dataflow.DataflowReadChannel, int, java.lang.Object)">controlMessageArrived</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html" title="class in groovyx.gpars.dataflow.operator">DataflowEventAdapter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>processor</code> - The reporting dataflow operator/selector</dd><dd><code>channel</code> - The input channel holding the message</dd><dd><code>index</code> - The index of the input channel within the operator</dd><dd><code>message</code> - The incoming message</dd>
<dt><span class="strong">Returns:</span></dt><dd>The same object that was passed in as the last argument</dd></dl>
</li>
</ul>
<a name="beforeRun(groovyx.gpars.dataflow.operator.DataflowProcessor, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeRun</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.Object&gt;&nbsp;beforeRun(<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a>&nbsp;processor,
                                         java.util.List&lt;java.lang.Object&gt;&nbsp;messages)</pre>
<div class="block">Entering a different non-idle state, so a notification needs to be sent to the monitor.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventListener.html#beforeRun(groovyx.gpars.dataflow.operator.DataflowProcessor, java.util.List)">beforeRun</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventListener.html" title="interface in groovyx.gpars.dataflow.operator">DataflowEventListener</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html#beforeRun(groovyx.gpars.dataflow.operator.DataflowProcessor, java.util.List)">beforeRun</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html" title="class in groovyx.gpars.dataflow.operator">DataflowEventAdapter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>processor</code> - The reporting dataflow operator/selector</dd><dd><code>messages</code> - The incoming messages</dd>
<dt><span class="strong">Returns:</span></dt><dd>The same set of messages that was passed in</dd></dl>
</li>
</ul>
<a name="afterRun(groovyx.gpars.dataflow.operator.DataflowProcessor, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterRun</h4>
<pre>public&nbsp;void&nbsp;afterRun(<a href="../../../../../groovyx/gpars/dataflow/operator/DataflowProcessor.html" title="class in groovyx.gpars.dataflow.operator">DataflowProcessor</a>&nbsp;processor,
            java.util.List&lt;java.lang.Object&gt;&nbsp;messages)</pre>
<div class="block">Enters an idle state, so a notification needs to be sent to the monitor.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventListener.html#afterRun(groovyx.gpars.dataflow.operator.DataflowProcessor, java.util.List)">afterRun</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventListener.html" title="interface in groovyx.gpars.dataflow.operator">DataflowEventListener</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html#afterRun(groovyx.gpars.dataflow.operator.DataflowProcessor, java.util.List)">afterRun</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../groovyx/gpars/dataflow/operator/DataflowEventAdapter.html" title="class in groovyx.gpars.dataflow.operator">DataflowEventAdapter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>processor</code> - The reporting dataflow operator/selector</dd><dd><code>messages</code> - The incoming messages that have been processed</dd></dl>
</li>
</ul>
<a name="fireEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fireEvent</h4>
<pre>private&nbsp;void&nbsp;fireEvent()</pre>
<div class="block">If shutdown is in progress, we'll notify the monitor</div>
</li>
</ul>
<a name="initiateShutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initiateShutdown</h4>
<pre>final&nbsp;void&nbsp;initiateShutdown()</pre>
<div class="block">Starts the shutdown phase by turning shutdownFlag on</div>
</li>
</ul>
<a name="isIdle()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isIdle</h4>
<pre>public final&nbsp;boolean&nbsp;isIdle()</pre>
<div class="block">A quick check on, whether the operator/selector is in the Idle state</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True, if the current state is Idle</dd></dl>
</li>
</ul>
<a name="isIdleAndNoIncomingMessages()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isIdleAndNoIncomingMessages</h4>
<pre>public final&nbsp;boolean&nbsp;isIdleAndNoIncomingMessages()</pre>
<div class="block">A more sophisticated test for being Idle</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True, if the operator/selector state is Idle, there are no messages in the input channels and there are no messages in the intermediate state between having been removed from the channel and being accepted by the operator</dd></dl>
</li>
</ul>
<a name="terminateProcessor()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>terminateProcessor</h4>
<pre>final&nbsp;void&nbsp;terminateProcessor()</pre>
<div class="block">Used by the monitor to terminate the underlying operator/selector</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GracefulShutdownListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>Copyright &#169; 2008&#8211;2013  V&#225;clav Pech.  All Rights Reserved.</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../groovyx/gpars/dataflow/operator/component/GracefulShutdownMonitor.html" title="class in groovyx.gpars.dataflow.operator.component"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?groovyx/gpars/dataflow/operator/component/GracefulShutdownListener.html" target="_top">Frames</a></li>
<li><a href="GracefulShutdownListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
